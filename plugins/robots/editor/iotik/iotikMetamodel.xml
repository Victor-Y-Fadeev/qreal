<?xml version="1.0" encoding="utf-8"?>
<metamodel xmlns="http://schema.real.com/schema/">
	<extends>../common/robotsMetamodel.xml</extends>
	<namespace>UML 2.0</namespace>
	<diagram name="RobotsDiagram">
		<nonGraphicTypes>
			<enum name="IotikDigitalSensorPort">
				<value name="D0"/>
				<value name="D1"/>
				<value name="D2"/>
				<value name="D3"/>
				<value name="D4"/>
				<value name="D5"/>
				<value name="D6"/>
				<value name="D7"/>
			</enum>
			<enum name="IotikAnalogSensorPort">
				<value name="A0"/>
				<value name="A1"/>
				<value name="A2"/>
				<value name="A3"/>
				<value name="A4"/>
				<value name="A5"/>
				<value name="A6"/>
				<value name="A7"/>
			</enum>
			<enum name="IotikUniversalSensorPort">
				<value name="A0"/>
				<value name="A1"/>
				<value name="A2"/>
				<value name="A3"/>
				<value name="A4"/>
				<value name="A5"/>
				<value name="A6"/>
				<value name="A7"/>
				<value name="D0"/>
				<value name="D1"/>
				<value name="D2"/>
				<value name="D3"/>
				<value name="D4"/>
				<value name="D5"/>
				<value name="D6"/>
				<value name="D7"/>
			</enum>
		</nonGraphicTypes>
		<graphicTypes>
			<!-- Algorithms -->
			<node name="IotikEngineMovementCommand">
				<logic>
					<container/>
					<properties>
						<property displayedName="Ports" type="string" name="Ports" >
							<default>M0, M1</default>
						</property>
					</properties>
					<generalizations>
						<parent parentName="EngineMovementCommand"/>
					</generalizations>
				</logic>
			</node>
			<node displayedName="Motors Backward" name="IotikEnginesBackward" path="111, 224 : 0, 113 :  | 113, 0 : 0, 113 :  | 0, 113 : 287, 113 : " description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/enginesBackwardBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="25" y="-35" textBinded="Ports" hard="true" background="white" prefix="Ports:"/>
						<label x="35" y="60" textBinded="Power" background="white" prefix="Power:" suffix="%"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
					<generalizations>
						<parent parentName="IotikEngineMovementCommand"/>
					</generalizations>
				</logic>
			</node>
			<node displayedName="Motors Forward" name="IotikEnginesForward" path="185, 207 : 287, 105 :  | 287, 105 : 182, 0 :  | 0, 105 : 287, 105 : " description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/enginesForwardBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="25" y="-35" textBinded="Ports" hard="true" background="white" prefix="Ports:" />
						<label x="35" y="60" textBinded="Power" background="white" prefix="Power:" suffix="%" />
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
					<generalizations>
						<parent parentName="IotikEngineMovementCommand"/>
					</generalizations>
				</logic>
			</node>
			<node displayedName="Stop Motors" name="IotikEnginesStop" path="49, 117 : 185, 117 :  | 223, 118 : 222, 128 : 221, 138 : 218, 148 : 215, 158 : 211, 167 : 205, 176 : 199, 184 : 192, 192 : 184, 199 : 176, 205 : 167, 211 : 158, 215 : 148, 218 : 138, 221 : 128, 222 : 118, 223 : 108, 222 : 98, 221 : 88, 218 : 78, 215 : 69, 211 : 60, 205 : 52, 199 : 44, 192 : 37, 184 : 31, 176 : 25, 167 : 21, 158 : 18, 148 : 15, 138 : 14, 128 : 13, 118 : 14, 108 : 15, 98 : 18, 88 : 21, 78 : 25, 69 : 31, 60 : 37, 52 : 44, 44 : 52, 37 : 60, 31 : 69, 25 : 78, 21 : 88, 18 : 98, 15 : 108, 14 : 118, 13 : 128, 14 : 138, 15 : 148, 18 : 158, 21 : 167, 25 : 176, 31 : 184, 37 : 192, 44 : 199, 52 : 205, 60 : 211, 69 : 215, 78 : 218, 88 : 221, 98 : 222, 108 : 223, 118 : " description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/enginesStopBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="25" y="-35" textBinded="Ports" hard="true" background="white" prefix="Ports:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
					<generalizations>
						<parent parentName="EngineCommand"/>
					</generalizations>
					<properties>
						<property displayedName="Ports" type="string" name="Ports">
							<default>M0, M1</default>
						</property>
					</properties>
				</logic>
			</node>

			<!-- Sensors blocks -->
			<node name="IotikSensorBlock">
				<logic>
					<container/>
					<properties/>
					<generalizations>
						<parent parentName="AbstractNode"/>
					</generalizations>
				</logic>
			</node>
			<node name="IotikAnalogSensorBlock">
				<logic>
					<container/>
					<properties>
						<property displayedName="Port" type="IotikAnalogSensorPort" name="Port">
							<default>A0</default>
						</property>
					</properties>
					<generalizations>
						<parent parentName="IotikSensorBlock"/>
					</generalizations>
				</logic>
			</node>
			<node name="IotikDigitalSensorBlock">
				<logic>
					<container/>
					<properties>
						<property displayedName="Port" type="IotikDigitalSensorPort" name="Port">
							<default>D0</default>
						</property>
					</properties>
					<generalizations>
						<parent parentName="IotikSensorBlock"/>
					</generalizations>
				</logic>
			</node>
			<node name="IotikUniversalSensorBlock">
				<logic>
					<container/>
					<properties>
						<property displayedName="Port" type="IotikUniversalSensorPort" name="Port">
							<default>D0</default>
						</property>
					</properties>
					<generalizations>
						<parent parentName="IotikSensorBlock"/>
					</generalizations>
				</logic>
			</node>

			<node displayedName="Mosfet" name="IotikMosfet" description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/mosfetBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="40" y="-35" textBinded="Port" hard="true" prefix="Port:"/>
						<label x="40" y="60" textBinded="Status" hard="false" prefix="Status:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<properties>
						<property displayedName="Status" type="string" name="Status">
							<default>0</default>
						</property>
					</properties>
					<container/>
					<generalizations>
						<parent parentName="IotikAnalogSensorBlock"/>
					</generalizations>
				</logic>
			</node>
			<node displayedName="Led" name="IotikLed" path="70, 79 : 70, 121 :  | 25, 78 : 25, 122 :  | 12, 12 : 86, 12 : 86, 78 : 12, 78 : 12, 12 : " description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/ledBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="40" y="-35" textBinded="Port" hard="true" prefix="Port:"/>
						<label x="40" y="60" textBinded="Status" hard="false" prefix="Status:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<properties>
						<property displayedName="Status" type="bool" name="Status">
							<default>true</default>
						</property>
					</properties>
					<container/>
					<generalizations>
						<parent parentName="IotikDigitalSensorBlock"/>
					</generalizations>
				</logic>
			</node>
			<node displayedName="Color Sensor into Variables" name="IotikColorSensorToVariable" description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/colorSensorIntoVariableBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="-70" y="-35" textBinded="S0" hard="true" prefix="S0:"/>
						<label x="-20" y="-35" textBinded="S1" hard="true" prefix="S1:"/>
						<label x="30" y="-35" textBinded="S2" hard="true" prefix="S2:"/>
						<label x="80" y="-35" textBinded="S3" hard="true" prefix="S3:"/>
						<label x="145" y="-35" textBinded="OUT" hard="true" prefix="OUT:"/>
						<label x="-50" y="60" text="Color Sensor into Variables" background="white"/>
						<label x="25" y="90" textBinded="Red" background="white" prefix="Red:"/>
						<label x="25" y="120" textBinded="Green" background="white" prefix="Green:"/>
						<label x="25" y="150" textBinded="Blue" background="white" prefix="Blue:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<properties>
						<property displayedName="S0" type="IotikDigitalSensorPort" name="S0">
							<default>D0</default>
						</property>
						<property displayedName="S1" type="IotikDigitalSensorPort" name="S1">
							<default>D0</default>
						</property>
						<property displayedName="S2" type="IotikDigitalSensorPort" name="S2">
							<default>D0</default>
						</property>
						<property displayedName="S3" type="IotikDigitalSensorPort" name="S3">
							<default>D0</default>
						</property>
						<property displayedName="OUT" type="IotikDigitalSensorPort" name="OUT">
							<default>D0</default>
						</property>
						<property displayedName="Red" type="string" name="Red">
							<default>red</default>
						</property>
						<property displayedName="Green" type="string" name="Green">
							<default>green</default>
						</property>
						<property displayedName="Blue" type="string" name="Blue">
							<default>blue</default>
						</property>
					</properties>
					<generalizations>
						<parent parentName="IotikSensorBlock"/>
					</generalizations>
				</logic>
			</node>
			<node displayedName="Compass into Variables" name="IotikCompassToVariable" description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/CompassIntoVariableBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="0" y="-35" textBinded="SDA" hard="true" prefix="SDA:"/>
						<label x="70" y="-35" textBinded="SCL" hard="true" prefix="SCL:"/>
						<label x="-50" y="60" text="Compass into Variables" background="white"/>
						<label x="25" y="90" textBinded="X" background="white" prefix="X:"/>
						<label x="25" y="120" textBinded="Y" background="white" prefix="Y:"/>
						<label x="25" y="150" textBinded="Z" background="white" prefix="Z:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<properties>
						<property displayedName="SDA" type="IotikDigitalSensorPort" name="SDA">
							<default>D0</default>
						</property>
						<property displayedName="SCL" type="IotikDigitalSensorPort" name="SCL">
							<default>D0</default>
						</property>
						<property displayedName="X" type="string" name="X">
							<default>x</default>
						</property>
						<property displayedName="Y" type="string" name="Y">
							<default>y</default>
						</property>
						<property displayedName="Z" type="string" name="Z">
							<default>z</default>
						</property>
					</properties>
					<generalizations>
						<parent parentName="IotikSensorBlock"/>
					</generalizations>
				</logic>
			</node>
			<node displayedName="Line Detector into Variable" name="IotikLineDetectorToVariable" description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/lineDetectorIntoVariableBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="40" y="-35" textBinded="Port" hard="true" prefix="Port:"/>
						<label x="-50" y="60" text="Line Detector into Variable" background="white"/>
						<label x="40" y="90" textBinded="Variable" background="white" prefix="Variable:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<properties>
						<property displayedName="Variable" type="string" name="Variable">
							<default>line</default>
						</property>
					</properties>
					<generalizations>
						<parent parentName="IotikUniversalSensorBlock"/>
					</generalizations>
				</logic>
			</node>

			<node displayedName="Receive Message From Thread" name="ReceiveMessageThreads" description="Receive a message sent to a thread from which this block is called.">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/receiveMessageThreadsBlock.png" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="30" y="60" textBinded="Variable" background="white" prefix="Variable:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
					<properties>
						<property name="Variable" displayedName="Variable" type="string"/>
					</properties>
					<generalizations>
						<parent parentName="AbstractNode"/>
					</generalizations>
				</logic>
			</node>

			<!-- Waiting for sensors blocks -->
			<node displayedName="Wait for Touch Sensor" name="IotikWaitForTouchSensor" path="12, 123 : 174, 123 :  | 174, 12 : 358, 12 : 358, 234 : 174, 234 : 174, 12 : " description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/waitForTouchSensorBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="40" y="-35" textBinded="Port" hard="true" background="white" prefix="Port:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
					<generalizations>
						<parent parentName="IotikDigitalSensorBlock"/>
					</generalizations>
				</logic>
			</node>
			<node displayedName="Wait for Infrared Distance" name="IotikWaitForIRDistance" path="190, 162 : 219, 122 :  | 219, 122 : 190, 86 :  | 120, 122 : 219, 122 :  | 12, 118 : 118, 12 :  | 12, 118 : 118, 224 :  | 118, 12 : 118, 224 : " description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/waitForSonarDistanceBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="40" y="-35" textBinded="Port" hard="true" prefix="Port:"/>
						<label x="55" y="60" textBinded="Distance" prefix="Distance:"/>
						<label x="55" y="90" textBinded="Sign" prefix="Sign:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
					<properties>
						<property displayedName="Distance" type="string" name="Distance">
							<default>0</default>
						</property>
						<property displayedName="Sign" type="DistanceSign" name="Sign">
							<default>greater</default>
						</property>
					</properties>
					<generalizations>
						<parent parentName="IotikAnalogSensorBlock"/>
					</generalizations>
				</logic>
			</node>
			<node displayedName="Wait for Ultrasonic Distance" name="IotikWaitForSonarDistance" description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/waitForSonarDistanceBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="0" y="-35" textBinded="Trig" hard="true" prefix="Trig:"/>
						<label x="70" y="-35" textBinded="Echo" hard="true" prefix="Echo:"/>
						<label x="55" y="60" textBinded="Distance" prefix="Distance:"/>
						<label x="55" y="90" textBinded="Sign" prefix="Sign:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
					<properties>
						<property displayedName="Trig" type="IotikDigitalSensorPort" name="Trig">
							<default>D0</default>
						</property>
						<property displayedName="Echo" type="IotikDigitalSensorPort" name="Echo">
							<default>D0</default>
						</property>
						<property displayedName="Distance" type="string" name="Distance">
							<default>0</default>
						</property>
						<property displayedName="Sign" type="DistanceSign" name="Sign">
							<default>greater</default>
						</property>
					</properties>
					<generalizations>
						<parent parentName="IotikSensorBlock"/>
					</generalizations>
				</logic>
			</node>
			<node displayedName="Wait for Flame Sensor" name="IotikWaitForFlame" description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/waitForFlameBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="40" y="-35" textBinded="Port" hard="true" background="white" prefix="Port:"/>
						<label x="50" y="60" textBinded="Value" background="white" prefix="Value:"/>
						<label x="50" y="90" textBinded="Sign" background="white" prefix="Sign:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
					<properties>
						<property displayedName="Value" type="string" name="Value">
							<default>0</default>
						</property>
						<property displayedName="Sign" type="DistanceSign" name="Sign">
							<default>greater</default>
						</property>
					</properties>
					<generalizations>
						<parent parentName="IotikUniversalSensorBlock"/>
					</generalizations>
				</logic>
			</node>
			<node displayedName="Wait for Sound Sensor" name="IotikWaitForSound" path="12, 178 : 117, 178 :  | 117, 96 : 117, 178 :  | 13, 96 : 117, 96 :  | 13, 12 : 13, 96 :  | 13, 12 : 118, 12 : " description="">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/waitForSoundSensorBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="40" y="-35" textBinded="Port" hard="true" background="white" prefix="Port:"/>
						<label x="50" y="60" textBinded="Volume" background="white" prefix="Volume:"/>
						<label x="50" y="90" textBinded="Sign" background="white" prefix="Sign:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
					<properties>
						<property displayedName="Volume" type="string" name="Volume">
							<default>0</default>
						</property>
						<property displayedName="Sign" type="DistanceSign" name="Sign">
							<default>greater</default>
						</property>
					</properties>
					<generalizations>
						<parent parentName="IotikUniversalSensorBlock"/>
					</generalizations>
				</logic>
			</node>

		</graphicTypes>
		<palette sorted="false">
			<group name="Actions">
				<element name="IotikEnginesForward"/>
				<element name="IotikEnginesBackward"/>
				<element name="IotikEnginesStop"/>
				<element name="IotikMosfet" />
				<element name="IotikLed" />
				<element name="IotikColorSensorToVariable" />
				<element name="IotikCompassToVariable" />
				<element name="IotikLineDetectorToVariable" />
			</group>
			<group name="Wait">
				<element name="IotikWaitForTouchSensor"/>
				<element name="IotikWaitForIRDistance"/>
				<element name="IotikWaitForSonarDistance" />
				<element name="IotikWaitForFlame" />
				<element name="IotikWaitForSound" />
			</group>
		</palette>
	</diagram>
</metamodel>
